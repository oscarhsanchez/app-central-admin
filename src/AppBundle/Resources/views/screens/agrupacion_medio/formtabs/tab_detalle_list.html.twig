<div class="margin-b">
    <a class="btn btn-white" title="{{ 'agrupacion_medio_detalle.buttons.add'|trans }}" href="{{ path('agrupacion_medio_detalle_add', { agrupacion_medio_id: entity.token }) }}" onclick="loadAjaxFormPage(this, null, null, agrupacionMedio_detalle_list_reload); return false;">
        <span class="glyphicon glyphicon-plus"></span>
        <strong>{{ 'agrupacion_medio_detalle.buttons.add'|trans }}</strong>
    </a>
</div>

<table id="dt-agrupacionMedio-detalle-list" class="table table-striped table-bordered table-hover">
    <thead>
    <tr>
        <th class="datatable-chk-cell"><input type="checkbox" class="i-checks datatable-chk-select-all" value="all" /></th>
        <th>{{ 'form.agrupacion_medio.label.medio_pk_medio'|trans }}</th>
        <th>{{ 'form.agrupacion_medio.label.medio_ubicacion'|trans }}</th>
        <th>{{ 'form.agrupacion_medio.label.medio_posicion'|trans }}</th>
        <th>{{ 'form.agrupacion_medio.label.medio_id_cara'|trans }}</th>
        <th>{{ 'form.agrupacion_medio.label.factor_agrupacion'|trans }}</th>
        <th>{{ 'form.label.actions'|trans }}</th>
    </tr>
    </thead>
</table>
<script type="text/javascript">
    var agrupacionMedio_detalle_list = null;
    var agrupacionMedio_detalle_list_table_columns = [
        {
            "mData": function (source) {
                return '<input type="checkbox" class="i-checks" value="'+source.token+'" />';
            }
        },
        {"mData": "medio__pk_medio"},
        {"mData": "medio__ubicacion__ubicacion"},
        {"mData": "medio__posicion"},
        {"mData": "medio__id_cara"},
        {"mData": "factor_agrupacion"},
        {
            "mData": function (source) {
                var actions = '<a title="{{ 'agrupacion_medio_detalle.buttons.edit'|trans }}" class="btn btn-primary btn-xs" onclick="loadAjaxFormPage(this, null, null, agrupacionMedio_detalle_list_reload); return false;" href="' + Routing.generate('agrupacion_medio_detalle_edit', { id: encodeURIComponent(source.token), _locale: '{{ app.request.locale }}' }) + '"><span class="glyphicon glyphicon-edit"></span> &nbsp; {{ 'form.actions.edit'|trans }}</a>&nbsp; ';
                actions += '<a class="btn btn-primary btn-xs" href="javascript:void(0)" onclick="bootbox.confirm(\'Seguro que desea eliminar el registro?\', function(confirmed){ if(confirmed) executeAjax(\'' + Routing.generate('agrupacion_medio_detalle_delete', { _locale: '{{ app.request.locale }}', id: encodeURIComponent(source.token) }) + '\', null, null, agrupacionMedio_detalle_list_reload); }); return false;"><span class="glyphicon glyphicon-remove"></span> &nbsp; {{ 'form.actions.delete'|trans }}</a>&nbsp; ';
                return actions;
            }
        }
    ];
    jQuery(document).ready(function() {
        agrupacionMedio_detalle_list = TableManaged.init(
                '#dt-agrupacionMedio-detalle-list',
                '{{ url('agrupacion_medio_detalle_list_json', { agrupacion_medio_id: entity.pkAgrupacion }) }}',
                null,
                [0, 6],
                agrupacionMedio_detalle_list_table_columns,
                '{{ url('datatables_i18n_fragment', { language: app.request.locale }) }}'
        );
    });

    function agrupacionMedio_detalle_list_reload(result){
        if (result && result.message){
            var alertType = result.result == 1 ? 'success' : 'danger';
            $(agrupacionMedio_detalle_list).closest('.dataTables_wrapper').prepend(Notification.alert(alertType, result.message));
        }
        agrupacionMedio_detalle_list.api().ajax.reload();
    }
</script>