{% extends 'base.html.twig' %}

{% block page_title %}{{ entity.name }}: Role Permissions{% endblock %}
{% block page_breadcrumb %}
    <li class="active">
        <strong>{{ entity.name }}: Role Permissions</strong>
    </li>
{% endblock %}

{% block body %}
    <div class="ibox">
        <div class="ibox-title">
            <h5>{{ entity.name }}: Role Permissions</h5>
        </div>
        <div class="ibox-content">

            {% include 'ESocialUtilBundle:flash-messages:_flash.messages.html.twig' %}

            {{ form_start(form, { method: 'POST', action: path('role_permissions_update', {id: entity.token }) }) }}

            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th>Submodule</th>
                        <th colspan="4">Permissions</th>
                    </tr>
                    <tr>
                        <th></th>
                        <th class="text-center">Create</th>
                        <th class="text-center">Read</th>
                        <th class="text-center">Update</th>
                        <th class="text-center">Delete</th>
                    </tr>
                </thead>
                <tbody>
                    {% for formPermission in form.permissions %}
                    <tr>
                        <td class="text-center">
                            {{ entity.permissions[loop.index-1].submodule }}
                            {{ form_widget(formPermission.submodule) }}
                        </td>
                        <td class="text-center">{{ form_widget(formPermission.permission_C) }}</td>
                        <td class="text-center">{{ form_widget(formPermission.permission_R) }}</td>
                        <td class="text-center">{{ form_widget(formPermission.permission_U) }}</td>
                        <td class="text-center">{{ form_widget(formPermission.permission_D) }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <div class="clearfix">
                <button class="btn btn-primary pull-right" type="submit"><strong>{{ 'form.actions.save' }}</strong></button>
            </div>

            {{ form_end(form) }}

        </div>
    </div>
{% endblock %}